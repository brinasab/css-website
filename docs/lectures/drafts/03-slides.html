<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-4a990d8dcb58f517c7c86712b8f2ac7c.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.31">

  <meta name="author" content="Sabrina Nardin, Summer 2025">
  <title>css-website – Introduction to R: Lecture 3</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #24292e;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #24292e; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #6a737d; } /* Annotation */
    code span.at { color: #d73a49; } /* Attribute */
    code span.bn { color: #005cc5; } /* BaseN */
    code span.bu { color: #d73a49; } /* BuiltIn */
    code span.cf { color: #d73a49; } /* ControlFlow */
    code span.ch { color: #032f62; } /* Char */
    code span.cn { color: #005cc5; } /* Constant */
    code span.co { color: #6a737d; } /* Comment */
    code span.cv { color: #6a737d; } /* CommentVar */
    code span.do { color: #6a737d; } /* Documentation */
    code span.dt { color: #d73a49; } /* DataType */
    code span.dv { color: #005cc5; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #d73a49; font-weight: bold; } /* Extension */
    code span.fl { color: #005cc5; } /* Float */
    code span.fu { color: #6f42c1; } /* Function */
    code span.im { color: #032f62; } /* Import */
    code span.in { color: #6a737d; } /* Information */
    code span.kw { color: #d73a49; } /* Keyword */
    code span.op { color: #24292e; } /* Operator */
    code span.ot { color: #6f42c1; } /* Other */
    code span.pp { color: #d73a49; } /* Preprocessor */
    code span.re { color: #6a737d; } /* RegionMarker */
    code span.sc { color: #005cc5; } /* SpecialChar */
    code span.ss { color: #032f62; } /* SpecialString */
    code span.st { color: #032f62; } /* String */
    code span.va { color: #e36209; } /* Variable */
    code span.vs { color: #032f62; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-864c5404f4710dceefb0a9fe440f50a1.css">
  <link rel="stylesheet" href="../style/styles.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Introduction to R: Lecture 3</h1>
  <p class="subtitle">Topics: Intro to ggplot2, Coding Style</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Sabrina Nardin, Summer 2025 
</div>
</div>
</div>

</section>
<section>
<section id="agenda" class="title-slide slide level1 center">
<h1>Agenda</h1>
<div class="agenda-list">
<ol type="1">
<li>Intro to the Grammar of Graphics and ggplot2</li>
<li>R Coding Style: Best Practices</li>
<li>More on the Grammar of Graphics and ggplot2</li>
<li>Simplifying ggplot2 with Defaults<br>
</li>
<li>Practice: Gapminder Data</li>
</ol>
</div>
</section>
<section id="reminders" class="slide level2 center">
<h2>Reminders</h2>
<ul>
<li><p>Check your working directory inside R Workbench (“Project:”) and switch project if necessary</p></li>
<li><p>Check your R version</p>
<ul>
<li>R 4.5.1 use this!</li>
<li>R 4.2.0</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="intro-to-the-grammar-of-graphics-and-ggplot2" class="title-slide slide level1 center middle">
<h1>1. Intro to the Grammar of Graphics and ggplot2</h1>

</section>
<section id="what-is-a-dataset" class="slide level2 center">
<h2>What Is a Dataset?</h2>
<p>Imagine you are a data analyst for Ford and have information on ~200 cars. For each car, you know:</p>
<ul>
<li>How big the engine is (engine size or displacement, in liters)</li>
<li>How many miles it gets on the highway (fuel efficiency, in Miles Per Gallons)</li>
<li>The class of the car (e.g., compact, SUV, etc.)</li>
</ul>
<p><strong>Questions for you:</strong></p>
<ul>
<li>What do you think a dataset like this might look like?</li>
<li>What is a dataset, anyway?</li>
<li>What does one row represent? What does one column represent?</li>
</ul>
</section>
<section id="plotting-data" class="slide level2 center">
<h2>Plotting Data</h2>
<p>Imagine you pick two pieces of information (e.g., variables) from this car dataset:</p>
<ul>
<li>variable 1: car fuel efficiency on the highway</li>
<li>variable 2: car engine size (engine displacement)</li>
</ul>
<p>You want to understand the relationship between these two variables visually, so you start by creating a simple scatter plot…</p>
</section>
<section id="our-first-plot-with-ggplot2" class="slide level2 center">
<h2>Our First Plot with ggplot2</h2>

<img data-src="03-slides_files/figure-revealjs/unnamed-chunk-1-1.png" width="960" class="r-stretch"><p><strong>Before we explain the code to make this plot…</strong></p>
<ul>
<li>What’s on the x-axis? And on the y -axis?</li>
<li>What do you think each dot in this scatterplot represents?</li>
<li>If you wanted to pick a car that combines high fuel efficiency on the highway and a large engine size, where would you look on this plot? Are there cars like that here?</li>
<li>Larger engines tend to have __________ highway MPG efficiency</li>
</ul>
</section>
<section id="understanding-a-dataset-mpg" class="slide level2 center">
<h2>Understanding a Dataset: mpg</h2>
<p>Open R Workbench and <strong>use R version 4.5.1</strong></p>
<p>Copy/paste this code into your R Console and run it for a preview of the <code>mpg</code> dataset:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-2"><a></a><span class="fu">data</span>(mpg)</span>
<span id="cb1-3"><a></a><span class="fu">head</span>(mpg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<!-- describe what this code does -->
</section>
<section id="installing-and-loading-packages-in-r" class="slide level2 center">
<h2>Installing and Loading Packages in R</h2>
<p>To use external tools like <code>ggplot2</code>, you need to first <strong>install</strong> and then <strong>load</strong> the package. A package is a a collection of code, data, and documentation.</p>
<p><strong>Install a package. Only once per computer:</strong></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a><span class="fu">install.packages</span>(<span class="st">"ggplot2"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Load a package. Every time you use it, at the top of the script:</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a><span class="fu">library</span>(ggplot2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In this course, we’re using RStudio Workbench, where everything is already installed. So you only need to <strong>load</strong> packages.</p>
<!--
**What's the difference?**
- A **package** is a collection of code, data, and documentation
- The **library()** function loads an installed package into your current session
-->
</section>
<section id="key-dataset-terms" class="slide level2 center">
<h2>Key Dataset Terms</h2>
<ul>
<li><strong>Observation</strong> = each row = one car<br>
</li>
<li><strong>Variable</strong> = each column = a car property (e.g., <code>displ</code>, <code>hwy</code>, <code>class</code>)
<ul>
<li><code>displ</code>: engine size or displacement, in liters<br>
</li>
<li><code>hwy</code>: fuel efficiency, highway miles per gallon<br>
</li>
<li><code>class</code>: class or type of car (compact, SUV…)</li>
</ul></li>
</ul>
<p>The <code>mpg</code> dataset has <strong>234 observations</strong> (cars, in rows) and <strong>11 variables</strong> (properties, in columns)</p>
</section>
<section id="code-to-make-our-first-plot-with-ggplot2" class="slide level2 center">
<h2>Code to Make our First Plot with ggplot2</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb4-2"><a></a></span>
<span id="cb4-3"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="sc">+</span></span>
<span id="cb4-4"><a></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>What this code does:</p>
<ul>
<li>Sets the data: <code>mpg</code></li>
<li>Makes a scatterplot: <code>geom_point()</code></li>
<li>Tells what to put on the axes: <code>aes()</code></li>
<li>Maps the variable engine size to x-axis: <code>x = displ</code></li>
<li>Maps the variable fuel efficiency to y-axis: <code>y = hwy</code></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="03-slides_files/figure-revealjs/unnamed-chunk-2-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section>
<section id="add-title-and-axes-labels" class="slide level2 center">
<h2>Add Title and Axes Labels</h2>
<p>Our initial plot also had a Title and Axes Labels, that’s the full code to add them (copy/paste it to your Console):</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb5-2"><a></a></span>
<span id="cb5-3"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="sc">+</span></span>
<span id="cb5-4"><a></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span></span>
<span id="cb5-5"><a></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Car Fuel Efficiency on the Highway vs. Car Engine Size"</span>,</span>
<span id="cb5-6"><a></a>       <span class="at">x =</span> <span class="st">"Car Engine Size in Liters"</span>,</span>
<span id="cb5-7"><a></a>       <span class="at">y =</span> <span class="st">"Car Highway MPG (Fuel Efficiency)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="why-visualize-data" class="slide level2 center">
<h2>Why Visualize Data?</h2>
<p>Before you run numbers or models, it’s useful to look at the data visually!</p>
<ul>
<li>Graphs help you spot patterns, relationships, and outliers</li>
<li>Visualization makes data more understandable and shareable</li>
<li>You can explore your questions more quickly</li>
</ul>
</section>
<section id="practice" class="slide level2 center">
<h2>💻 Practice</h2>
<p>Team up with someone, run this code in your Console, and answer the questions:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb6-2"><a></a><span class="fu">data</span>(mpg)</span>
<span id="cb6-3"><a></a></span>
<span id="cb6-4"><a></a><span class="fu">ggplot</span>(mpg) <span class="sc">+</span></span>
<span id="cb6-5"><a></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">color =</span> class))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>What do you see? Describe the plot to your partner</li>
<li>What do the first two lines of code do?</li>
<li>What does <code>color = class</code> do?</li>
<li>Replace the current x variable with the variable <code>cty</code> (city miles per gallons), run the code, and describe the new plot</li>
</ul>
</section>
<section id="grammar-of-graphics-and-ggplot2" class="slide level2 center">
<h2>Grammar of Graphics and ggplot2</h2>
<p>We’ve been creating plots intuitively. Now, let’s learn them formally.</p>
<ul>
<li><code>ggplot2</code> is the main R package used for <strong>data visualization</strong></li>
<li>It’s part of the <strong>tidyverse</strong>, a collection of packages for data science: https://www.tidyverse.org/</li>
<li>Created by <strong>Hadley Wickham</strong>, who also co-authored your course textbook</li>
<li>Built using the theory called the <strong>Grammar of Graphics</strong>, a system for creating layered plots</li>
</ul>
<!-- ggplot2 bcs is the second version
We start today and use `ggplot2` throughout this course to explore and communicate data visually. We also learn several packages from the tidiyverse -->
</section>
<section id="grammar-and-grammar-of-graphics" class="slide level2 center">
<h2>Grammar and “Grammar of Graphics”</h2>
<blockquote>
<p>A <strong>grammar</strong> is a set of rules (syntax and morphology) that helps us structure a language. It lets us communicate clearly.</p>
</blockquote>
<p>Applied to R and ggplot2…</p>
<blockquote>
<p>A <strong>Grammar of Graphics</strong> is a set of rules for building data visualizations. It lets us create many types of plots using the same structure.</p>
</blockquote>
</section>
<section id="main-components-of-the-grammar-of-graphics" class="slide level2 center">
<h2>Main Components of the Grammar of Graphics</h2>
<p>The Grammar of Graphics defines a plot as built from five main parts.</p>
<p>These five parts together are called a <strong>layer</strong>:</p>
<ul>
<li><strong>DATA</strong>: the dataset you are using</li>
<li><strong>GEOM</strong>: the type of plot (e.g., points, bars, lines)</li>
<li><strong>MAPPING</strong>: maps variables to aesthetics like x, y, color, etc. with <code>aes()</code></li>
<li><strong>STAT</strong>: whether the data should be transformed (e.g., counted) or not (identity)</li>
<li><strong>POSITION</strong>: how things are arranged on the plot (e.g., stacked or jittered)</li>
</ul>
<!-- Other components: COORDINATE SYSTEM, FACET, SCALE -->
</section>
<section id="grammar-of-graphics-code-template" class="slide level2 center">
<h2>Grammar of Graphics: Code Template</h2>
<p>Let’s look at how these five parts of a layer show up in <code>ggplot2</code> code:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a><span class="co"># code template</span></span>
<span id="cb7-2"><a></a></span>
<span id="cb7-3"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> <span class="sc">&lt;</span>DATA<span class="sc">&gt;</span>) <span class="sc">+</span></span>
<span id="cb7-4"><a></a>  <span class="er">&lt;</span>GEOM<span class="sc">&gt;</span>(</span>
<span id="cb7-5"><a></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="sc">&lt;</span>MAPPING<span class="sc">&gt;</span>),</span>
<span id="cb7-6"><a></a>    <span class="at">stat =</span> <span class="sc">&lt;</span>STAT<span class="sc">&gt;</span>,</span>
<span id="cb7-7"><a></a>    <span class="at">position =</span> <span class="sc">&lt;</span>POSITION<span class="sc">&gt;</span></span>
<span id="cb7-8"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You can also add more elements, like:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a><span class="sc">+</span> <span class="er">&lt;</span>COORDINATE SYSTEM<span class="sc">&gt;</span></span>
<span id="cb8-2"><a></a><span class="sc">+</span> <span class="er">&lt;</span>FACET<span class="sc">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="grammar-of-graphics-code-template-with-the-mpg-dataset" class="slide level2 center">
<h2>Grammar of Graphics: Code Template with the mpg Dataset</h2>
<p>Now, fill in this code template using the <code>mpg</code> data and plot it:</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a></a><span class="co"># code template</span></span>
<span id="cb9-2"><a></a></span>
<span id="cb9-3"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> <span class="sc">&lt;</span>DATA<span class="sc">&gt;</span>) <span class="sc">+</span></span>
<span id="cb9-4"><a></a>  <span class="er">&lt;</span>GEOM<span class="sc">&gt;</span>(</span>
<span id="cb9-5"><a></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="sc">&lt;</span>MAPPING<span class="sc">&gt;</span>),</span>
<span id="cb9-6"><a></a>    <span class="at">stat =</span> <span class="sc">&lt;</span>STAT<span class="sc">&gt;</span>,</span>
<span id="cb9-7"><a></a>    <span class="at">position =</span> <span class="sc">&lt;</span>POSITION<span class="sc">&gt;</span></span>
<span id="cb9-8"><a></a>  ) <span class="sc">+</span></span>
<span id="cb9-9"><a></a>  <span class="er">&lt;</span>COORDINATE<span class="sc">&gt;</span> <span class="sc">+</span></span>
<span id="cb9-10"><a></a>  <span class="er">&lt;</span>FACET<span class="sc">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a><span class="co"># filled with mpg data</span></span>
<span id="cb10-2"><a></a></span>
<span id="cb10-3"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="sc">+</span></span>
<span id="cb10-4"><a></a>  <span class="fu">geom_point</span>(</span>
<span id="cb10-5"><a></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">color =</span> class),</span>
<span id="cb10-6"><a></a>    <span class="at">stat =</span> <span class="st">"identity"</span>,</span>
<span id="cb10-7"><a></a>    <span class="at">position =</span> <span class="st">"identity"</span></span>
<span id="cb10-8"><a></a>  ) <span class="sc">+</span></span>
<span id="cb10-9"><a></a>  <span class="fu">coord_cartesian</span>() <span class="sc">+</span></span>
<span id="cb10-10"><a></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(class), <span class="at">nrow =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<!-- 
Variables description:
* `displ` (dbl): car’s engine size, in liters
* `hwy` (int): car’s fuel efficiency on the highway
* `class` (chr): categories of cars (e.g., compact, midsize, SUV, etc.)

facet_wrap(~ class, nrow = 1) 

Note: this template is a helpful starting point, but it's not the only way to write the code. We will explore alternatives later today. For now, let's demonstrate how to apply this template using the `mpg` cars dataset...
-->
</section></section>
<section>
<section id="r-coding-style-best-practices" class="title-slide slide level1 center middle">
<h1>2. R Coding Style: Best Practices</h1>

</section>
<section id="on-coding-style-in-r" class="slide level2 center">
<h2>On Coding Style in R</h2>
<p>Before continuing with the Grammar of Graphics, let’s take a moment to focus on <strong>coding style</strong> (parenthesis, signs, indentation, variable names, etc.)</p>
<p>Here’s the same code as before. This time, read it focusing on its <em>style</em>. What do you notice?</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="sc">+</span> </span>
<span id="cb11-2"><a></a>  <span class="fu">geom_point</span>(</span>
<span id="cb11-3"><a></a>     <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">color =</span> class),</span>
<span id="cb11-4"><a></a>     <span class="at">stat =</span> <span class="st">"identity"</span>, </span>
<span id="cb11-5"><a></a>     <span class="at">position =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb11-6"><a></a>  <span class="fu">coord_cartesian</span>() <span class="sc">+</span></span>
<span id="cb11-7"><a></a>  <span class="fu">facet_wrap</span>(<span class="at">facets =</span> <span class="fu">vars</span>(class), <span class="at">nrow =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<!--
THINGS THAT STUDENTS MIGHT SAY
- Parentheses: always open/close
- Spacing and indentation
- `<-` vs `=`
- Use of quotes
- Case matters in R
-->
</section>
<section id="coding-style-checklist" class="slide level2 center">
<h2>Coding Style Checklist</h2>
<ul>
<li>Use <code>&lt;-</code> to assign values to variables</li>
<li>Use <code>=</code> to assign values to function arguments</li>
<li>Use descriptive, meaningful variable names (<code>snake_case</code>, lowercase)</li>
<li>Add spaces around operators (e.g., <code>+</code>, <code>-</code>, <code>&lt;-</code>) for readability</li>
<li>Avoid spaces inside parentheses or brackets</li>
<li>Close every opened parenthesis</li>
<li>Break long lines and use indentation</li>
<li>Use comments, but do not abuse them</li>
</ul>
</section>
<section id="why-care-about-coding-style" class="slide level2 center">
<h2>Why Care About Coding Style?</h2>
<p>Resources to guide you:</p>
<ul>
<li><a href="https://r4ds.hadley.nz/workflow-style">R for Data Science, Chapter 4</a></li>
<li><a href="https://style.tidyverse.org/">The <code>tidyverse</code> style guide</a></li>
<li><a href="https://www.smashingmagazine.com/2012/10/why-coding-style-matters/">Why does coding style matter?</a></li>
</ul>
</section>
<section id="make-and-store-a-plot" class="slide level2 center">
<h2>Make and Store a Plot</h2>
<p>This code makes a plot, but does not store it</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a> <span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="sc">+</span></span>
<span id="cb12-2"><a></a>  <span class="fu">geom_point</span>(</span>
<span id="cb12-3"><a></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">color =</span> class),</span>
<span id="cb12-4"><a></a>    <span class="at">stat =</span> <span class="st">"identity"</span>,</span>
<span id="cb12-5"><a></a>    <span class="at">position =</span> <span class="st">"identity"</span></span>
<span id="cb12-6"><a></a>  ) <span class="sc">+</span></span>
<span id="cb12-7"><a></a>  <span class="fu">coord_cartesian</span>() <span class="sc">+</span></span>
<span id="cb12-8"><a></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(class), <span class="at">nrow =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This code makes a plot and stores it to an object that I named <code>fuel_plot</code></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a>fuel_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="sc">+</span></span>
<span id="cb13-2"><a></a>  <span class="fu">geom_point</span>(</span>
<span id="cb13-3"><a></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">color =</span> class),</span>
<span id="cb13-4"><a></a>    <span class="at">stat =</span> <span class="st">"identity"</span>,</span>
<span id="cb13-5"><a></a>    <span class="at">position =</span> <span class="st">"identity"</span></span>
<span id="cb13-6"><a></a>  ) <span class="sc">+</span></span>
<span id="cb13-7"><a></a>  <span class="fu">coord_cartesian</span>() <span class="sc">+</span></span>
<span id="cb13-8"><a></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(class), <span class="at">nrow =</span> <span class="dv">1</span>)</span>
<span id="cb13-9"><a></a>fuel_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section></section>
<section>
<section id="more-on-the-grammar-of-graphics-and-ggplot2" class="title-slide slide level1 center middle">
<h1>3. More on the Grammar of Graphics and ggplot2</h1>

</section>
<section id="core-components-of-ggplot2" class="slide level2 center">
<h2>Core Components of ggplot2</h2>
<p>You’ve seen the code template and the big picture. Now we’ll take a closer look at key components:</p>
<ul>
<li><strong>Layers</strong>
<ul>
<li>data</li>
<li>mapping</li>
<li>geom</li>
<li>stat</li>
<li>position</li>
</ul></li>
<li><strong>Coordinate System</strong></li>
<li><strong>Facets</strong></li>
<li><strong>Scales</strong> (not covered today)</li>
</ul>
</section>
<section id="layers" class="slide level2 center">
<h2>Layers</h2>
<p>Layers create the visual elements on a plot. Each layer has five parts:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="sc">+</span> </span>
<span id="cb14-2"><a></a>  <span class="fu">geom_point</span>(</span>
<span id="cb14-3"><a></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">color =</span> class),</span>
<span id="cb14-4"><a></a>    <span class="at">stat =</span> <span class="st">"identity"</span>, </span>
<span id="cb14-5"><a></a>    <span class="at">position =</span> <span class="st">"identity"</span></span>
<span id="cb14-6"><a></a>  ) <span class="sc">+</span> </span>
<span id="cb14-7"><a></a>  <span class="fu">geom_smooth</span>(</span>
<span id="cb14-8"><a></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy),</span>
<span id="cb14-9"><a></a>    <span class="at">method =</span> <span class="st">"lm"</span></span>
<span id="cb14-10"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="data-and-aesthetic-mappings" class="slide level2 center">
<h2>Data and Aesthetic Mappings</h2>
<p><strong>Data:</strong></p>
<ul>
<li>The dataset used for the plot</li>
<li>Example: <code>data = mpg</code></li>
</ul>
<p><strong>Mapping:</strong></p>
<ul>
<li>Links variables to aesthetics (x, y, color, size…)</li>
<li>Example: <code>aes(x = displ, y = hwy, color = class)</code></li>
</ul>
</section>
<section id="how-ggplot2-controls-positioning" class="slide level2 center">
<h2>How ggplot2 Controls Positioning</h2>
<p>Adjusts how elements are positioned to avoid overlap.</p>
<ul>
<li>Scatterplot: often <code>position = "identity"</code></li>
<li>Jitter: <code>position = "jitter"</code> spreads overlapping points</li>
<li>Bar plot: use <code>"stack"</code>, <code>"dodge"</code>, etc.</li>
</ul>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>Check <code>geom_*()</code> documentation to learn supported positions.</p>
</div>
</div>
</div>
</section>
<section id="statistical-transformations-in-layers" class="slide level2 center">
<h2>Statistical Transformations in Layers</h2>
<p><strong>Stat:</strong> transforms your data for plotting.</p>
<ul>
<li>Bar charts: <code>geom_bar()</code> uses <code>stat = "count"</code> by default</li>
<li>Scatterplots: often use <code>stat = "identity"</code></li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="sc">+</span> </span>
<span id="cb15-2"><a></a>  <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> class)) <span class="co"># implicitly counts</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="choosing-the-right-geometric-object" class="slide level2 center">
<h2>Choosing the Right Geometric Object</h2>
<p>The geometric object is the <strong>type of plot</strong> you’re making:</p>
<ul>
<li><code>geom_point()</code> → scatterplot</li>
<li><code>geom_line()</code> → line chart</li>
<li><code>geom_bar()</code> → bar chart</li>
</ul>
<p>Each <code>geom</code> accepts certain aesthetics. Read the docs: <a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point reference</a></p>
</section>
<section id="practice-color-aesthetics" class="slide level2 center">
<h2>💻 Practice: Color Aesthetics</h2>
<p>Which of these three code blocks is correct? Run and compare them in R.</p>
<p><br></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="sc">+</span> </span>
<span id="cb16-2"><a></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">color =</span> class))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><br></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="sc">+</span> </span>
<span id="cb17-2"><a></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy), <span class="at">color =</span> <span class="st">"blue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><br></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="sc">+</span> </span>
<span id="cb18-2"><a></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">color =</span> <span class="st">"blue"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="practice-color-aesthetics-1" class="slide level2 center">
<h2>💻 Practice: Color Aesthetics</h2>
<div class="columns">
<div class="column" style="width:30%;">
<p>✅ Correct</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a></a><span class="fu">aes</span>(<span class="at">color =</span> class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><em>Maps</em> a variable.</p>
</div><div class="column" style="width:30%;">
<p>✅ Correct</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a></a>color <span class="ot">=</span> <span class="st">"blue"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><em>Sets</em> color manually (outside <code>aes</code>).</p>
</div><div class="column" style="width:30%;">
<p>❌Incorrect</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a></a><span class="fu">aes</span>(<span class="at">color =</span> <span class="st">"blue"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Tries to map a fixed value (the string “blue”). Not useful.</p>
</div></div>
<div class="fragment">
<h4 id="setting-vs-mapping-in-ggplot2">Setting vs Mapping in ggplot2</h4>
<ul>
<li><p><strong>Setting</strong> means assigning a fixed value outside <code>aes()</code><br>
Example: <code>color = "blue"</code> (does not come from the data)</p></li>
<li><p><strong>Mapping</strong> means linking a variable inside <code>aes()</code><br>
Example: <code>aes(color = class)</code> (comes from the data, from a variable)</p></li>
</ul>
</div>
</section>
<section id="common-beginner-mistakes" class="slide level2 center">
<h2>Common Beginner Mistakes</h2>
<ul>
<li>Putting fixed values like “blue” inside <code>aes()</code> (e.g., <code>aes(color = "blue")</code></li>
<li>Forgetting to close <code>aes()</code> or <code>geom_()</code> parentheses</li>
<li>Using <code>&lt;-</code> inside <code>aes()</code> instead of <code>=</code></li>
</ul>
</section>
<section id="coordinate-system-and-faceting" class="slide level2 center">
<h2>Coordinate System and Faceting</h2>
<p><strong>Coordinate System:</strong></p>
<ul>
<li>Translates data into the plot space</li>
<li>Default: Cartesian system (<code>coord_cartesian()</code>)</li>
</ul>
<p><strong>Faceting:</strong></p>
<ul>
<li>Splits data into subplots by a variable</li>
</ul>
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="sc">+</span> </span>
<span id="cb22-2"><a></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">color =</span> class)) <span class="sc">+</span></span>
<span id="cb22-3"><a></a>  <span class="fu">coord_cartesian</span>() <span class="sc">+</span></span>
<span id="cb22-4"><a></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(class), <span class="at">nrow =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section></section>
<section>
<section id="simplifying-ggplot2-with-defaults" class="title-slide slide level1 center middle">
<h1>4. Simplifying ggplot2 with Defaults</h1>
<!--
Remember I previously said that writing code using this template way is a great starting point but probably not your end point?

We can rewrite the same code, simplified that way 
(taking advantage of fact that layers share common features)

We often repeat settings like `data = ...`, `aes()`, 
`stat = ...`, but we can use defaults to simplify.
-->
</section>
<section id="example-1" class="slide level2 center">
<h2>Example 1</h2>
<p>Example from the previous slides</p>
<p><strong>Long version:</strong></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg) <span class="sc">+</span> </span>
<span id="cb23-2"><a></a>  <span class="fu">geom_point</span>(</span>
<span id="cb23-3"><a></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">color =</span> class),</span>
<span id="cb23-4"><a></a>    <span class="at">stat =</span> <span class="st">"identity"</span>, </span>
<span id="cb23-5"><a></a>    <span class="at">position =</span> <span class="st">"identity"</span>) <span class="sc">+</span> </span>
<span id="cb23-6"><a></a>  <span class="fu">geom_smooth</span>(</span>
<span id="cb23-7"><a></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy),</span>
<span id="cb23-8"><a></a>    <span class="at">method =</span> <span class="st">"lm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="fragment">
<p><strong>Short version:</strong></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg, <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span> </span>
<span id="cb24-2"><a></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> class)) <span class="sc">+</span> </span>
<span id="cb24-3"><a></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="example-2" class="slide level2 center">
<h2>Example 2</h2>
<p>Scatterplot between cars’ engine size (<code>displ</code>) and highway fuel efficiency (<code>hwy</code>)</p>
<p><strong>Long version:</strong></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb25-2"><a></a>  <span class="fu">layer</span>(</span>
<span id="cb25-3"><a></a>    <span class="at">data =</span> mpg, </span>
<span id="cb25-4"><a></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy),</span>
<span id="cb25-5"><a></a>    <span class="at">geom =</span> <span class="st">"point"</span>, </span>
<span id="cb25-6"><a></a>    <span class="at">stat =</span> <span class="st">"identity"</span>, </span>
<span id="cb25-7"><a></a>    <span class="at">position =</span> <span class="st">"identity"</span></span>
<span id="cb25-8"><a></a>  ) <span class="sc">+</span></span>
<span id="cb25-9"><a></a>  <span class="fu">scale_y_continuous</span>() <span class="sc">+</span></span>
<span id="cb25-10"><a></a>  <span class="fu">scale_x_continuous</span>() <span class="sc">+</span></span>
<span id="cb25-11"><a></a>  <span class="fu">coord_cartesian</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="fragment">
<p><strong>Short version:</strong></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> mpg, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span></span>
<span id="cb26-2"><a></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="defaults-cheat-sheet" class="slide level2 center">
<h2>Defaults Cheat Sheet</h2>
<p>Use these defaults to simplify code:</p>
<ul>
<li><code>stat = "identity"</code> for <code>geom_point()</code></li>
<li><code>position = "identity"</code> unless changed</li>
<li>Common <code>aes()</code> calls can go in <code>ggplot()</code></li>
<li><code>scale_*_continuous()</code> not needed unless customizing</li>
</ul>
</section>
<section id="quick-review" class="slide level2 center">
<h2>Quick Review</h2>
<ol type="1">
<li>What does <code>geom_point()</code> do?</li>
<li>What does <code>stat = "identity"</code> mean?</li>
<li>When would you use <code>facet_wrap()</code>?</li>
<li>What’s wrong with <code>aes(color = "blue")</code>?</li>
</ol>
<p>Try answering these without peeking at the slides!</p>
</section></section>
<section>
<section id="pratice-gapminder-data" class="title-slide slide level1 center middle">
<h1>5. Pratice: Gapminder Data</h1>

</section>
<section id="practice-gapminder" class="slide level2 center">
<h2>💻 Practice: Gapminder</h2>
<p>Download today’s in-class materials from the website!</p>
<p>The <code>gapminder</code> dataset:</p>
<p>Contains data on various socio-economic indicators for countries around the world over multiple years (1957-2008). It includes information on life expectancy, GDP per capita, and population</p>
<p>Gapminder info: https://cran.r-project.org/web/packages/gapminder/readme/README.html and https://www.gapminder.org/</p>
</section>
<section id="recap-what-we-learned-today" class="slide level2 center">
<h2>Recap: What We Learned Today</h2>
<ul>
<li>Core components of the Grammar of Graphics</li>
<li>Generate simple graphs with ggplot2</li>
<li>Use the Grammar of Graphics template and simplify it with defaults</li>
<li>R Coding Style Best Practices</li>
</ul>
</section>
<section id="reminders-1" class="slide level2 center">
<h2>Reminders</h2>
<ul>
<li>Homework 1 is due Wednesday, July 2nd</li>
<li>There is no class Thursday, July 3rd</li>
</ul>
</section>
<section id="to-print-these-slides-as-pdf" class="slide level2 center">
<h2>To print these slides as pdf</h2>
<p>Click on the icon bottom-right corner &gt; Tools &gt; PDF Export Mode &gt; Print as a Pdf</p>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>