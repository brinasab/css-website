<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-4a990d8dcb58f517c7c86712b8f2ac7c.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.31">

  <meta name="author" content="Sabrina Nardin, Fall 2025">
  <title>css-website ‚Äì Computing for the Social Sciences: Lecture 11</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #24292e;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #24292e; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #6a737d; } /* Annotation */
    code span.at { color: #d73a49; } /* Attribute */
    code span.bn { color: #005cc5; } /* BaseN */
    code span.bu { color: #d73a49; } /* BuiltIn */
    code span.cf { color: #d73a49; } /* ControlFlow */
    code span.ch { color: #032f62; } /* Char */
    code span.cn { color: #005cc5; } /* Constant */
    code span.co { color: #6a737d; } /* Comment */
    code span.cv { color: #6a737d; } /* CommentVar */
    code span.do { color: #6a737d; } /* Documentation */
    code span.dt { color: #d73a49; } /* DataType */
    code span.dv { color: #005cc5; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #d73a49; font-weight: bold; } /* Extension */
    code span.fl { color: #005cc5; } /* Float */
    code span.fu { color: #6f42c1; } /* Function */
    code span.im { color: #032f62; } /* Import */
    code span.in { color: #6a737d; } /* Information */
    code span.kw { color: #d73a49; } /* Keyword */
    code span.op { color: #24292e; } /* Operator */
    code span.ot { color: #6f42c1; } /* Other */
    code span.pp { color: #d73a49; } /* Preprocessor */
    code span.re { color: #6a737d; } /* RegionMarker */
    code span.sc { color: #005cc5; } /* SpecialChar */
    code span.ss { color: #032f62; } /* SpecialString */
    code span.st { color: #032f62; } /* String */
    code span.va { color: #e36209; } /* Variable */
    code span.vs { color: #032f62; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-864c5404f4710dceefb0a9fe440f50a1.css">
  <link rel="stylesheet" href="../style/styles.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Computing for the Social Sciences: Lecture 11</h1>
  <p class="subtitle">Topics: Conditional Statements with if, else, and else if</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Sabrina Nardin, Fall 2025 
</div>
</div>
</div>

</section>
<section id="agenda" class="title-slide slide level1 center">
<h1>Agenda</h1>
<div class="agenda-list">
<ol type="1">
<li>Overview of Control Structures: Conditional Statements and Loops</li>
<li>Conditional Statements</li>
</ol>
</div>
<p><span style="font-size: 0.8em; color: #666;"> <em>Slides last updated on <strong>November 4, 2025</strong>. Slides authored by Sabrina Nardin. AI used to polish slides style and fix typos.</em> </span></p>
<!--
<span style="font-size: 0.8em; color: #666;">
*These slides were last updated on **November 07, 2025***
</span>
-->
<!--
Tips for Family Program Class

Prep
- Print warm up (25 copies?)
- Bring papers and markers 

Intro
- Start by introducing yourself
- Instructor in MACSS Program, which is about
- This is a lecture from a class called "CSS" 
- Targets mix of undergraduate, PhD and MA students
- They typically enroll because...
- Most students are beginners
- Show website, schedule, etc.

Start lecture, show slides, say
- By the time they arrive to this lecture they have learned...
- We run this class and every class interacively (students bring their laptop and have access to R and code with me or do exercises diretly on R) -- we adjust this for today!
- I am going to make you work a bit to give you a flavor of what classes look like, but also sollicit questions on anything unclear as I tell my students no stupid questions at all

Remember
- For each slide, check what audience might not know
- All weird R signs 
- dplyr syntax at point 4
- Explain workbench (R interface) as soon as you log into it
-->
</section>

<section>
<section id="overview-of-control-structures" class="title-slide slide level1 center middle">
<h1>1. Overview of Control Structures</h1>

</section>
<section id="control-structures-whats-the-idea" class="slide level2 center">
<h2>Control Structures: What‚Äôs the Idea?</h2>
<p>Up to this point, our R code has been running line by line following in a fixed sequence.</p>
<p><br></p>
<div title="**Now we ask: Can our code be dynamic vs fixed?**">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><strong>Now we ask: Can our code be dynamic vs fixed?</strong></strong></p>
</div>
<div class="callout-content">
<p>Example: Can our code skip some lines and run others depending on a condition? Can it repeat itself when needed?</p>
<p>Yes, with control structures!</p>
</div>
</div>
</div>
</div>
<p><br></p>
</section>
<section id="what-are-control-structures" class="slide level2 center">
<h2>What Are Control Structures?</h2>
<p>Control structures let us write code that can:</p>
<ul>
<li><p><strong>Make decisions</strong> ‚Üí with <strong>conditional statements</strong> like <code>if</code>, <code>if...else</code>, etc. (today‚Äôs topic)</p></li>
<li><p><strong>Repeat actions</strong> ‚Üí with <strong>loops</strong> like <code>for</code>, <code>while</code> (next lecture topic)</p></li>
</ul>
<p>Conditional statements and loops (e.g., control structures) let our code responds dynamically to different situations!</p>
<!-- 
Make decisions: the code uses conditions, evaluates them, and chooses what to do  
Repeat actions: the code runs certain lines multiple times when needed  

*Today: Conditional Statements and Next time: Loops*
-->
</section></section>
<section>
<section id="conditional-statements" class="title-slide slide level1 center middle">
<h1>2. Conditional Statements</h1>

</section>
<section id="conditional-statements-1" class="slide level2 center">
<h2>Conditional Statements</h2>
<p><strong>Conditional statements translate into programming language our ‚Äúif this, then that‚Äù logic</strong>: the code checks conditions, evaluates them, and acts accordingly.</p>
<ol type="1">
<li><p>Single test with <code>if... else</code></p></li>
<li><p>Multiple tests with <code>if... else if... else</code></p></li>
<li><p>Nested tests by placing one <code>if</code> inside another</p></li>
<li><p>Vectorized tests with <code>ifelse()</code> to apply a condition to each element of a vector (not technically a conditional statement like the previous three, but more on this when we get there!)</p></li>
</ol>
<!--
## Loops

**Loops let our code repeat actions by running certain lines multiple times when needed**

1. For Loop
2. While Loops
-->
</section>
<section id="practice" class="slide level2 center">
<h2>üíª Practice</h2>
<ol type="1">
<li><p>Download today‚Äôs class materials from the course website</p></li>
<li><p>Open the file called <code>if-else-warm-up.R</code></p></li>
<li><p>Before running the code: look over the syntax and try to predict what the code will output</p></li>
<li><p>Run the code and compare it to your prediction</p></li>
<li><p>Share your questions about this code on <a href="https://edstem.org/us/courses/86758/discussion">Ed Discussion</a></p></li>
</ol>
</section>
<section id="single-test-with-if-else" class="slide level2 center">
<h2>1. Single test with ‚Äúif‚Ä¶ else‚Äù</h2>
<p>Use <code>if...else</code> when your code needs to test <strong>one condition</strong> and take one of two possible actions, depending on whether the condition is <code>TRUE</code> or <code>FALSE</code>.</p>
<p>Syntax:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="cf">if</span> (condition) {</span>
<span id="cb1-2"><a></a>    action1 <span class="co"># action performed when condition is TRUE</span></span>
<span id="cb1-3"><a></a>} <span class="cf">else</span> {</span>
<span id="cb1-4"><a></a>    action2 <span class="co"># action performed when condition is FALSE</span></span>
<span id="cb1-5"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a>age <span class="ot">&lt;-</span> <span class="dv">14</span></span>
<span id="cb2-2"><a></a></span>
<span id="cb2-3"><a></a><span class="cf">if</span> (age <span class="sc">&gt;</span> <span class="dv">16</span>) {</span>
<span id="cb2-4"><a></a>  <span class="fu">print</span>(<span class="st">"You can get a driving license"</span>)</span>
<span id="cb2-5"><a></a>} <span class="cf">else</span> {</span>
<span id="cb2-6"><a></a>  <span class="fu">print</span>(<span class="st">"You cannot drive"</span>)</span>
<span id="cb2-7"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="single-test-with-if-else-1" class="slide level2 center">
<h2>1. Single test with ‚Äúif‚Ä¶ else‚Äù</h2>
<div title="Style tip">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Style tip</strong></p>
</div>
<div class="callout-content">
<p>Do you need the space and <code>{}</code>?</p>
<p>Technically, the code works without them, like this:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a>age <span class="ot">&lt;-</span> <span class="dv">14</span></span>
<span id="cb3-2"><a></a></span>
<span id="cb3-3"><a></a><span class="cf">if</span> (age <span class="sc">&gt;</span> <span class="dv">16</span>) <span class="fu">print</span>(<span class="st">"You can get a driving license"</span>) <span class="cf">else</span> <span class="fu">print</span>(<span class="st">"You cannot drive"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>But omitting spaces and <code>{}</code> is considered <strong>bad style</strong> as it hurts readability and makes errors more likely, especially for more complex statements!</p>
</div>
</div>
</div>
</div>
</section>
<section id="single-test-with-if-else-2" class="slide level2 center">
<h2>1. Single test with ‚Äúif‚Ä¶ else‚Äù</h2>
<p>Another example: What‚Äôs the output of this code?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a>movie_rating <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">4.5</span>, <span class="fl">4.2</span>, <span class="fl">5.0</span>, <span class="fl">3.8</span>, <span class="fl">2.9</span>, <span class="fl">1.7</span>)</span>
<span id="cb4-2"><a></a></span>
<span id="cb4-3"><a></a>movie_rating_avg <span class="ot">&lt;-</span> <span class="fu">mean</span>(movie_rating)</span>
<span id="cb4-4"><a></a></span>
<span id="cb4-5"><a></a><span class="cf">if</span> (movie_rating_avg <span class="sc">&gt;=</span> <span class="dv">4</span>) {</span>
<span id="cb4-6"><a></a>  <span class="fu">print</span>(<span class="st">"This movie is great!"</span>)</span>
<span id="cb4-7"><a></a>} <span class="cf">else</span> {</span>
<span id="cb4-8"><a></a>  <span class="fu">print</span>(<span class="st">"Not a favorite."</span>)</span>
<span id="cb4-9"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note conditional statements evaluate only one single element (in this example the mean of the vector movie_rating)</p>
<!--
wont work to evaluate each element of the vector, you ll have to put it into a loop, or use a logical vector first and replace
-->
</section>
<section id="multiple-tests-with-if-else-if-else" class="slide level2 center">
<h2>2. Multiple tests with ‚Äúif‚Ä¶‚Äù, ‚Äúelse if‚Ä¶‚Äù, ‚Äúelse‚Äù</h2>
<p>Use <code>if...else if...else</code> when your code needs to test <strong>multiple conditions</strong> and take different actions depending on which condition is <code>TRUE</code>. To do so, ddd one or more <strong><code>else if</code></strong> statement(s) between the initial <code>if</code> and the final <code>else</code></p>
<p>Syntax:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a></a><span class="cf">if</span> (condition1) {</span>
<span id="cb5-2"><a></a>    action1   <span class="co"># action performed when condition 1 is TRUE</span></span>
<span id="cb5-3"><a></a>} <span class="cf">else</span> <span class="cf">if</span> (condition2) {</span>
<span id="cb5-4"><a></a>    action2   <span class="co"># action performed when condition 2 is TRUE</span></span>
<span id="cb5-5"><a></a>} <span class="cf">else</span> {</span>
<span id="cb5-6"><a></a>    action3   <span class="co"># action performed when conditions 1 and 2 are FALSE</span></span>
<span id="cb5-7"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a>x <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb6-2"><a></a></span>
<span id="cb6-3"><a></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb6-4"><a></a>  <span class="fu">print</span>(<span class="st">"x is positive"</span>)</span>
<span id="cb6-5"><a></a>} <span class="cf">else</span> <span class="cf">if</span> (x <span class="sc">&lt;</span> <span class="dv">0</span>) {</span>
<span id="cb6-6"><a></a>  <span class="fu">print</span>(<span class="st">"x is negative"</span>)</span>
<span id="cb6-7"><a></a>} <span class="cf">else</span> {</span>
<span id="cb6-8"><a></a>  <span class="fu">print</span>(<span class="st">"x is zero"</span>)</span>
<span id="cb6-9"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="multiple-tests-with-if-else-if-else-1" class="slide level2 center">
<h2>2. Multiple tests with ‚Äúif‚Ä¶‚Äù, ‚Äúelse if‚Ä¶‚Äù, ‚Äúelse‚Äù</h2>
<p>Another example with multiple <code>else if</code> statements:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a><span class="co"># Enter a temperature when prompted</span></span>
<span id="cb7-2"><a></a>temperature <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="fu">readline</span>(<span class="at">prompt =</span> <span class="st">"Enter today's temperature in Celsius: "</span>))</span>
<span id="cb7-3"><a></a></span>
<span id="cb7-4"><a></a><span class="co"># Determine the variable weather based on temperature</span></span>
<span id="cb7-5"><a></a><span class="cf">if</span> (temperature <span class="sc">&gt;=</span> <span class="dv">30</span>) {</span>
<span id="cb7-6"><a></a>  weather <span class="ot">&lt;-</span> <span class="st">"Hot"</span></span>
<span id="cb7-7"><a></a>} <span class="cf">else</span> <span class="cf">if</span> (temperature <span class="sc">&gt;=</span> <span class="dv">20</span>) {</span>
<span id="cb7-8"><a></a>  weather <span class="ot">&lt;-</span> <span class="st">"Cool"</span></span>
<span id="cb7-9"><a></a>} <span class="cf">else</span> <span class="cf">if</span> (temperature <span class="sc">&gt;=</span> <span class="dv">10</span>) {</span>
<span id="cb7-10"><a></a>  weather <span class="ot">&lt;-</span> <span class="st">"Breezy"</span></span>
<span id="cb7-11"><a></a>} <span class="cf">else</span> {</span>
<span id="cb7-12"><a></a>  weather <span class="ot">&lt;-</span> <span class="st">"Freezing"</span></span>
<span id="cb7-13"><a></a>}</span>
<span id="cb7-14"><a></a><span class="fu">print</span>(weather)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="note-with-conditional-statements-sequence-matters" class="slide level2 center">
<h2>Note: with conditional statements sequence matters!</h2>
<div title="Order matters">
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Order matters</strong></p>
</div>
<div class="callout-content">
<p>Conditional statements are evaluated in order, so the sequence of your code matters:</p>
<ul>
<li>R checks each condition one by one, from top to bottom<br>
</li>
<li>R stops checking once it finds a condition that is <code>TRUE</code>: it runs that block and skips the rest</li>
<li>As a rule of thumb: order your conditions from most specific to most general, ending with a default case <code>else</code></li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section class="slide level2 center">

<h3 id="practice-1">üíª Practice 1</h3>
<p>What happens if the conditions are out of order?</p>
<p>Copy the code below in your console and move the line <code>temperature &gt;= 10</code> before the line <code>temperature &gt;= 20</code>. Leave the input temperature set as 25. What do you notice?</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a>temperature <span class="ot">&lt;-</span> <span class="dv">25</span></span>
<span id="cb8-2"><a></a></span>
<span id="cb8-3"><a></a><span class="cf">if</span> (temperature <span class="sc">&gt;=</span> <span class="dv">30</span>) {</span>
<span id="cb8-4"><a></a>  weather <span class="ot">&lt;-</span> <span class="st">"Hot"</span></span>
<span id="cb8-5"><a></a>} <span class="cf">else</span> <span class="cf">if</span> (temperature <span class="sc">&gt;=</span> <span class="dv">20</span>) {</span>
<span id="cb8-6"><a></a>  weather <span class="ot">&lt;-</span> <span class="st">"Cool"</span></span>
<span id="cb8-7"><a></a>} <span class="cf">else</span> <span class="cf">if</span> (temperature <span class="sc">&gt;=</span> <span class="dv">10</span>) {</span>
<span id="cb8-8"><a></a>  weather <span class="ot">&lt;-</span> <span class="st">"Breezy"</span></span>
<span id="cb8-9"><a></a>} <span class="cf">else</span> {</span>
<span id="cb8-10"><a></a>  weather <span class="ot">&lt;-</span> <span class="st">"Freezing"</span></span>
<span id="cb8-11"><a></a>}</span>
<span id="cb8-12"><a></a><span class="fu">print</span>(weather)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Once done, <a href="https://codeshare.io/G8nxLD" target="_blank">share your code here</a>. Questions? post on <a href="https://edstem.org/us/courses/86758/discussion">Ed Discussion</a> or ask us directly!</p>
<!--
```r
temperature <- as.integer(readline(prompt = "Enter today's temperature in Celsius: "))

if (temperature >= 30) {
  weather <- "Hot"
} else if (temperature >= 10) {   # moved up
  weather <- "Breezy"
} else if (temperature >= 20) {
  weather <- "Cool"
} else {
  weather <- "Freezing"
}
print(weather)
```

If temperature is 25, R hits temperature >= 10 first (which is TRUE) and never reaches temperature >= 20. So it assigns "Breezy" instead than "Cool".
-->
</section>
<section class="slide level2 center">

<h3 id="practice-2">üíª Practice 2</h3>
<p>Copy the code below into your console and add another <code>else if</code> statement that checks whether the temperature is between 0 (inclusive) and 10 (exclusive). If that condition is true, set weather to ‚ÄúCold‚Äù (so the ‚ÄúCold‚Äù range is 0‚Äì9¬∞C). Leave the input temperature set as 4.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a></a>temperature <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb9-2"><a></a></span>
<span id="cb9-3"><a></a><span class="cf">if</span> (temperature <span class="sc">&gt;=</span> <span class="dv">30</span>) {</span>
<span id="cb9-4"><a></a>  weather <span class="ot">&lt;-</span> <span class="st">"Hot"</span></span>
<span id="cb9-5"><a></a>} <span class="cf">else</span> <span class="cf">if</span> (temperature <span class="sc">&gt;=</span> <span class="dv">20</span>) {</span>
<span id="cb9-6"><a></a>  weather <span class="ot">&lt;-</span> <span class="st">"Cool"</span></span>
<span id="cb9-7"><a></a>} <span class="cf">else</span> <span class="cf">if</span> (temperature <span class="sc">&gt;=</span> <span class="dv">10</span>) {</span>
<span id="cb9-8"><a></a>  weather <span class="ot">&lt;-</span> <span class="st">"Breezy"</span></span>
<span id="cb9-9"><a></a>} <span class="cf">else</span> {</span>
<span id="cb9-10"><a></a>  weather <span class="ot">&lt;-</span> <span class="st">"Freezing"</span></span>
<span id="cb9-11"><a></a>}</span>
<span id="cb9-12"><a></a><span class="fu">print</span>(weather)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Once done, <a href="https://codeshare.io/G8nxLD" target="_blank">share your code here</a>. Questions? post on <a href="https://edstem.org/us/courses/86758/discussion">Ed Discussion</a> or ask us directly!</p>
<!--
```r
# Take user input
temperature <- as.integer(readline(prompt = "Enter today's temperature in Celsius: "))

# Determine weather based on temperature
if (temperature >= 30) {
  weather <- "Hot"
} else if (temperature >= 20) {
  weather <- "Cool"
} else if (temperature >= 10) {
  weather <- "Breezy"
  
  # NEW CODE
} else if (temperature >= 0 & temperature < 10) {  
  weather <- "Cold"
  
} else {
  weather <- "Freezing"
}
print(weather)
```

Takeaway: 

Use AND (&) when both conditions must be TRUE (here, >= 0 and < 10) at the same time for the code inside the {} runs

Here temperature must be greater than or equal to 0, and temperature must be less than 10. That‚Äôs what defines our ‚ÄúCold‚Äù range (0‚Äì9¬∞C).

If you write OR only one must be TRUE, for the code to run. 
So this condition is TOO BROAD would always be true, because every number is either ‚â• 0 or < 10.

HERE YOU WON'T NOTICE IT THOUGH, BUT  USING OR IS STILL LOGICALLY INCORRECT

-->
</section>
<section class="slide level2 center">

<h3 id="practice-3">üíª Practice 3</h3>
<p>When do we use <code>&amp;</code> (and) versus <code>|</code> (or) in conditional statements? Try these two examples, what do you notice and why?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a><span class="co"># Set temperature (25¬∞C, which equals 77¬∞F)</span></span>
<span id="cb10-2"><a></a>temperature <span class="ot">&lt;-</span> <span class="dv">25</span></span>
<span id="cb10-3"><a></a></span>
<span id="cb10-4"><a></a><span class="co"># Example 1</span></span>
<span id="cb10-5"><a></a><span class="cf">if</span> (temperature <span class="sc">&gt;=</span> <span class="dv">0</span> <span class="sc">&amp;</span> temperature <span class="sc">&lt;</span> <span class="dv">10</span>) {</span>
<span id="cb10-6"><a></a>  weather <span class="ot">&lt;-</span> <span class="st">"Cold"</span></span>
<span id="cb10-7"><a></a>} <span class="cf">else</span> {</span>
<span id="cb10-8"><a></a>  weather <span class="ot">&lt;-</span> <span class="st">"Warm"</span></span>
<span id="cb10-9"><a></a>}</span>
<span id="cb10-10"><a></a><span class="fu">print</span>(weather)</span>
<span id="cb10-11"><a></a></span>
<span id="cb10-12"><a></a><span class="co"># Example 2</span></span>
<span id="cb10-13"><a></a><span class="cf">if</span> (temperature <span class="sc">&gt;=</span> <span class="dv">0</span> <span class="sc">|</span> temperature <span class="sc">&lt;</span> <span class="dv">10</span>) {</span>
<span id="cb10-14"><a></a>  weather <span class="ot">&lt;-</span> <span class="st">"Cold"</span></span>
<span id="cb10-15"><a></a>} <span class="cf">else</span> {</span>
<span id="cb10-16"><a></a>  weather <span class="ot">&lt;-</span> <span class="st">"Warm"</span></span>
<span id="cb10-17"><a></a>}</span>
<span id="cb10-18"><a></a><span class="fu">print</span>(weather)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!--
Use AND (&) when both conditions must be TRUE (here, >= 0 and < 10) at the same time for the code inside the {} runs

Here temperature must be greater than or equal to 0, and temperature must be less than 10. That‚Äôs what defines our ‚ÄúCold‚Äù range (0‚Äì9¬∞C).

If you write OR only one must be TRUE, for the code to run. 
So this condition is TOO BROAD would always be true, because every number is either ‚â• 0 or < 10.
-->
</section>
<section id="nested-tests-by-placing-one-if-inside-another" class="slide level2 center">
<h2>3. Nested tests by placing one ‚Äúif‚Äù inside another</h2>
<!-- The %% modulo operator calculates the remainder from a division operation. Here 15 : 2 = 7, 1 is the reminder, thus the number is odd -->
<p>Use nested <code>if...else</code> statements when your code needs to check <strong>conditions within conditions</strong>. This allows you to make a second decision <strong>only after</strong> a first condition is met.</p>
<p>Example (the modulo <code>%%</code> returns the remainder after a division):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a>x <span class="ot">&lt;-</span> <span class="dv">15</span></span>
<span id="cb11-2"><a></a></span>
<span id="cb11-3"><a></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb11-4"><a></a>  <span class="co"># Case 1: x is positive</span></span>
<span id="cb11-5"><a></a>  <span class="cf">if</span> (x <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb11-6"><a></a>    <span class="fu">print</span>(<span class="st">"x is a positive even number"</span>)</span>
<span id="cb11-7"><a></a>  } <span class="cf">else</span> {</span>
<span id="cb11-8"><a></a>    <span class="fu">print</span>(<span class="st">"x is a positive odd number"</span>)</span>
<span id="cb11-9"><a></a>  }</span>
<span id="cb11-10"><a></a></span>
<span id="cb11-11"><a></a>} <span class="cf">else</span> {</span>
<span id="cb11-12"><a></a>  <span class="co"># Case 2: x is negative</span></span>
<span id="cb11-13"><a></a>  <span class="cf">if</span> (x <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb11-14"><a></a>    <span class="fu">print</span>(<span class="st">"x is a negative even number"</span>)</span>
<span id="cb11-15"><a></a>  } <span class="cf">else</span> {</span>
<span id="cb11-16"><a></a>    <span class="fu">print</span>(<span class="st">"x is a negative odd number"</span>)</span>
<span id="cb11-17"><a></a>  }</span>
<span id="cb11-18"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>What output do you expect if <code>x &lt;- -6</code> and if <code>x &lt;- 0</code>?</p>
<!-- current places 0 as negative even number but incorrect, so we need to improve the code! -->
</section>
<section id="nested-tests-by-placing-one-if-inside-another-1" class="slide level2 center">
<h2>3. Nested tests by placing one if inside another</h2>
<p>Same example, but this checks also the condition <code>x &lt;- 0</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a>x <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb12-2"><a></a></span>
<span id="cb12-3"><a></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb12-4"><a></a>  <span class="co"># Case 1: x is positive</span></span>
<span id="cb12-5"><a></a>  <span class="cf">if</span> (x <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb12-6"><a></a>    <span class="fu">print</span>(<span class="st">"x is a positive even number"</span>)</span>
<span id="cb12-7"><a></a>  } <span class="cf">else</span> {</span>
<span id="cb12-8"><a></a>    <span class="fu">print</span>(<span class="st">"x is a positive odd number"</span>)</span>
<span id="cb12-9"><a></a>  }</span>
<span id="cb12-10"><a></a>} <span class="cf">else</span> <span class="cf">if</span> (x <span class="sc">&lt;</span> <span class="dv">0</span>) {</span>
<span id="cb12-11"><a></a>  <span class="co"># Case 2: x is negative</span></span>
<span id="cb12-12"><a></a>  <span class="cf">if</span> (x <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb12-13"><a></a>    <span class="fu">print</span>(<span class="st">"x is a negative even number"</span>)</span>
<span id="cb12-14"><a></a>  } <span class="cf">else</span> {</span>
<span id="cb12-15"><a></a>    <span class="fu">print</span>(<span class="st">"x is a negative odd number"</span>)</span>
<span id="cb12-16"><a></a>  }</span>
<span id="cb12-17"><a></a>} <span class="cf">else</span> {</span>
<span id="cb12-18"><a></a>  <span class="co"># Case 3: x is exactly zero</span></span>
<span id="cb12-19"><a></a>  <span class="fu">print</span>(<span class="st">"x is zero"</span>)</span>
<span id="cb12-20"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="vectorized-tests-with-ifelse" class="slide level2 center">
<h2>4. Vectorized tests with ifelse()</h2>
<p>Our final case for today is <code>ifelse()</code>: it looks like a conditional statement, but it‚Äôs actually a function that applies a condition to <strong>each element of a vector</strong>.</p>
<p>Syntax:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a><span class="fu">ifelse</span> (condition to be evaluated,</span>
<span id="cb13-2"><a></a>        action performed when condition is <span class="cn">TRUE</span>,</span>
<span id="cb13-3"><a></a>        action performed when condition is <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a></a><span class="fu">ifelse</span>(<span class="fu">sqrt</span>(<span class="dv">16</span>) <span class="sc">&gt;</span> <span class="dv">3</span>, </span>
<span id="cb14-2"><a></a>       <span class="fu">sqrt</span>(<span class="dv">16</span>),</span>
<span id="cb14-3"><a></a>       <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!--
if_else(): more flexibile and handles complex conditional logic; returns a scalar

ifelse(): simpler and more suited for simple assignments or to transform variables in a dataframe; returns a vector
-->
</section>
<section id="vectorized-tests-with-ifelse-1" class="slide level2 center">
<h2>4. Vectorized tests with ifelse()</h2>
<p>Another example, this time with a vector as input. What is the output of this code?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">6</span>, <span class="dv">7</span>)</span>
<span id="cb15-2"><a></a><span class="fu">ifelse</span>(numbers <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">1</span>, </span>
<span id="cb15-3"><a></a>       <span class="st">"odd"</span>,</span>
<span id="cb15-4"><a></a>       <span class="st">"even"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div title="How ifelse() works">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>How ifelse() works</strong></p>
</div>
<div class="callout-content">
<ul>
<li><p>If the input of ifelse() is a vector, the output is also a vector: <strong>ifelse() evaluates each element of the vector</strong> and applies the corresponding action</p></li>
<li><p>This works because <strong>ifelse() supports vectorized operations</strong>: operations directly applied on entire vectors, rather than looping through individual elements one-by-one</p></li>
</ul>
</div>
</div>
</div>
</div>
<!--
How can we rewrite the same code using the standard `if-else` statement?

```
# won't work
numbers <- c(10, 6, 7)
if (numbers %% 2 == 1) { 
  print("odd")
} else {
  print("even")
}
```

```
# need a loop
numbers <- c(10, 6, 7)
for (i in 1:length(numbers)) {
  if (numbers[i] %% 2 == 1) {
    print("odd")
    } 
else 
  print("even")
 }
```
-->
</section>
<section id="vectorized-tests-with-ifelse-2" class="slide level2 center">
<h2>4. Vectorized tests with ifelse()</h2>
<div class="columns">
<div class="column" style="width:50%;">
<h3 id="regular-if-else-statements">Regular if‚Ä¶ else statements</h3>
<ul>
<li>Can only test <strong>one value at a time</strong></li>
<li>Think of them as asking <strong>one yes/no question to one person at a time</strong></li>
</ul>
</div><div class="column" style="width:50%;">
<h3 id="ifelse">ifelse()</h3>
<ul>
<li>Can test a <strong>whole vector at once</strong></li>
<li>Think of it as asking <strong>the same question to everyone in a group at once</strong></li>
</ul>
</div></div>
<p>Examples:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>)</span>
<span id="cb16-2"><a></a></span>
<span id="cb16-3"><a></a><span class="co"># Using if / else: works only with a single value</span></span>
<span id="cb16-4"><a></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">10</span>) {</span>
<span id="cb16-5"><a></a>  <span class="st">"High"</span></span>
<span id="cb16-6"><a></a>} <span class="cf">else</span> {</span>
<span id="cb16-7"><a></a>  <span class="st">"Low"</span></span>
<span id="cb16-8"><a></a>}</span>
<span id="cb16-9"><a></a></span>
<span id="cb16-10"><a></a><span class="co"># Using ifelse(): works element-wise (vectorized)</span></span>
<span id="cb16-11"><a></a><span class="fu">ifelse</span>(x <span class="sc">&gt;</span> <span class="dv">10</span>, <span class="st">"High"</span>, <span class="st">"Low"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="vectorized-tests-with-ifelse-3" class="slide level2 center">
<h2>4. Vectorized tests with ifelse()</h2>
<p>For this reason, <code>ifelse()</code> is often used to make changes in a data frame. Example: what is the output of this code?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb17-2"><a></a></span>
<span id="cb17-3"><a></a>qualify <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">"Athlet"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Noah"</span>, <span class="st">"Julio"</span>, <span class="st">"Nick"</span>, <span class="st">"Maria"</span>), </span>
<span id="cb17-4"><a></a>                  <span class="st">"Scores"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">32</span>, <span class="dv">37</span>, <span class="dv">28</span>, <span class="dv">30</span>))</span>
<span id="cb17-5"><a></a></span>
<span id="cb17-6"><a></a><span class="co"># using base R </span></span>
<span id="cb17-7"><a></a><span class="fu">ifelse</span>(qualify<span class="sc">$</span>Scores <span class="sc">&gt;</span> <span class="dv">30</span>, </span>
<span id="cb17-8"><a></a>       <span class="st">"Admitted"</span>, </span>
<span id="cb17-9"><a></a>       <span class="st">"Rejected"</span>)</span>
<span id="cb17-10"><a></a></span>
<span id="cb17-11"><a></a><span class="co"># same using dplyr</span></span>
<span id="cb17-12"><a></a>qualify <span class="sc">%&gt;%</span></span>
<span id="cb17-13"><a></a>  <span class="fu">mutate</span>(<span class="at">status =</span> <span class="fu">ifelse</span>(Scores <span class="sc">&gt;</span> <span class="dv">30</span>,</span>
<span id="cb17-14"><a></a>                       <span class="st">"Admitted"</span>,</span>
<span id="cb17-15"><a></a>                       <span class="st">"Rejected"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!--  FOR CSS CLASS IF THIS COMES AFTER DATA STRUCTURES, ADD THIS SLIDE IN
AND EXPLICITLY CONNECT IT BACK TO PREVOIUS CLASS 

You can also use double square bracket to access column Scores by position vs name 

# using base R to access column Scores by position
# double square brackets on a df return a vector
ifelse(qualify[[2]] > 30, 
       "Admitted", 
       "Rejected")

# single square brackets on a df return a tibble
ifelse(qualify[2] > 30, 
       "Admitted", 
       "Rejected")


# stick with [[]] for ector operations, safer always returns a vector
-->
</section>
<section id="vectorized-tests-with-ifelse-4" class="slide level2 center">
<h2>4. Vectorized tests with ifelse()</h2>
<p>In the previous example, we only had two possible categories: ‚ÄúAdmitted‚Äù and ‚ÄúRejected‚Äù</p>
<p>What happens to our code if we add a third category, say ‚ÄúWaitlisted‚Äù? We can write a <strong>nested <code>ifelse()</code></strong> like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a></a>qualify <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">"Athlet"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Noah"</span>, <span class="st">"Julio"</span>, <span class="st">"Nick"</span>, <span class="st">"Maria"</span>), </span>
<span id="cb18-2"><a></a>                  <span class="st">"Scores"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">32</span>, <span class="dv">37</span>, <span class="dv">28</span>, <span class="dv">30</span>))</span>
<span id="cb18-3"><a></a></span>
<span id="cb18-4"><a></a>qualify <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb18-5"><a></a>  <span class="at">Athlet =</span> <span class="fu">c</span>(<span class="st">"Noah"</span>, <span class="st">"Julio"</span>, <span class="st">"Nick"</span>, <span class="st">"Maria"</span>), </span>
<span id="cb18-6"><a></a>  <span class="at">Scores =</span> <span class="fu">c</span>(<span class="dv">32</span>, <span class="dv">37</span>, <span class="dv">28</span>, <span class="dv">30</span>))</span>
<span id="cb18-7"><a></a></span>
<span id="cb18-8"><a></a>qualify <span class="sc">%&gt;%</span></span>
<span id="cb18-9"><a></a>  <span class="fu">mutate</span>(<span class="at">Status =</span> <span class="fu">ifelse</span>(Scores <span class="sc">&gt;</span> <span class="dv">35</span>,            <span class="co"># First condition</span></span>
<span id="cb18-10"><a></a>                         <span class="st">"Admitted"</span>,             <span class="co"># If TRUE, assign "Admitted"</span></span>
<span id="cb18-11"><a></a>                         <span class="fu">ifelse</span>(Scores <span class="sc">&gt;=</span> <span class="dv">30</span>,    <span class="co"># Second condition (checked only if first is FALSE)</span></span>
<span id="cb18-12"><a></a>                                <span class="st">"Waitlisted"</span>,    <span class="co"># If TRUE, assign "Waitlisted"</span></span>
<span id="cb18-13"><a></a>                                <span class="st">"Rejected"</span>)))    <span class="co"># If both conditions are FALSE, assign "Rejected"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!--
# more formally...

ifelse(condition1,
       "Label1",           # used if condition1 is TRUE
       ifelse(condition2,
              "Label2",    # used if condition1 is FALSE and condition2 is TRUE
              "Label3"))   # used if BOTH condition1 and condition2 are FALSE
-->
</section>
<section id="vectorized-tests-with-ifelse-5" class="slide level2 center">
<h2>4. Vectorized tests with ifelse()</h2>
<p>Nested <code>ifelse()</code> statements work, but they make the code harder to read.</p>
<p>Compare the previous example with this version that avoids nesting:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a></a>qualify <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">"Athlet"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Noah"</span>, <span class="st">"Julio"</span>, <span class="st">"Nick"</span>, <span class="st">"Maria"</span>), </span>
<span id="cb19-2"><a></a>                  <span class="st">"Scores"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">32</span>, <span class="dv">37</span>, <span class="dv">28</span>, <span class="dv">30</span>))</span>
<span id="cb19-3"><a></a></span>
<span id="cb19-4"><a></a>qualify <span class="sc">%&gt;%</span></span>
<span id="cb19-5"><a></a>  <span class="fu">mutate</span>(<span class="at">Status =</span> <span class="st">"Rejected"</span>) <span class="sc">%&gt;%</span>                                  <span class="co"># Start with a default label</span></span>
<span id="cb19-6"><a></a>  <span class="fu">mutate</span>(<span class="at">Status =</span> <span class="fu">ifelse</span>(Scores <span class="sc">&gt;=</span> <span class="dv">30</span>, <span class="st">"Waitlisted"</span>, Status)) <span class="sc">%&gt;%</span>  <span class="co"># Update if the condition is met</span></span>
<span id="cb19-7"><a></a>  <span class="fu">mutate</span>(<span class="at">Status =</span> <span class="fu">ifelse</span>(Scores <span class="sc">&gt;</span> <span class="dv">35</span>, <span class="st">"Admitted"</span>, Status))         <span class="co"># Update again if the higher condition met</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<!--
# or can also start from Admitted and down

qualify %>%
  mutate(Status = "Admitted") %>%                                   # start with highest category
  mutate(Status = ifelse(Scores <= 30, "Waitlisted", Status)) %>%  # downgrade if below admission threshold
  mutate(Status = ifelse(Scores < 25, "Rejected", Status))          # downgrade again if below waitlist threshold
-->
<p><br></p>
<div title="Tip">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>When you have 2+ conditions: use separate <code>mutate()</code> + <code>ifelse()</code> steps (as shown here), instead of nesting.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<!--
## When to Use `ifelse()` Instead of `case_when()`

It depends but as a rule of thumb...

Use `ifelse()` when:

- You're checking **only one condition**
- You want a **simple inline transformation**  
  (e.g., `ifelse(x > 0, x * 2, x)`)
- You're assigning `NA` for some values  
  (e.g., `ifelse(x < 0, NA, x)`)

Use `case_when()` when:

- You have **3 or more conditions**
- You want better readability for **categorical recoding**

-->
</section>
<section id="vectorized-tests-with-ifelse-6" class="slide level2 center">
<h2>4. Vectorized tests with ifelse()</h2>
<p>People often use <code>ifelse()</code> to recode variables in a dataframe.</p>
<p>For example, the variable <code>decisionDirection</code> takes four values: 1 = Conservative, 2 = Liberal, 3 = Other, and NA.<br>
Recode it to three values: 0 = Conservative, 1 = Liberal, and NA for both NA and Other.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a></a>data <span class="sc">|&gt;</span></span>
<span id="cb20-2"><a></a>  <span class="fu">mutate</span>(<span class="at">decisionDirection =</span> <span class="fu">ifelse</span>(</span>
<span id="cb20-3"><a></a>    decisionDirection <span class="sc">==</span> <span class="dv">3</span>, <span class="co"># condition to evaluate</span></span>
<span id="cb20-4"><a></a>    <span class="cn">NA</span>,                     <span class="co"># if true, set to NA</span></span>
<span id="cb20-5"><a></a>    decisionDirection <span class="sc">-</span> <span class="dv">1</span>   <span class="co"># if false, subtract one to value</span></span>
<span id="cb20-6"><a></a>    ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><br></p>
<div title="Tip">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>Tip: Prefer <code>case_when()</code> over <code>ifelse()</code> for recoding variables (see the recoding class): it is easier to read and scale.</p>
</div>
</div>
</div>
</div>
<p><br></p>
<!--
More on this:
https://docs.ycrc.yale.edu/r-novice-gapminder/07-control-flow/
Comparing ifelse() and for loop:
https://www.r-bloggers.com/2020/02/if-else-and-ifelse/
-->
</section>
<section id="vectorized-tests-with-ifelse-7" class="slide level2 center">
<h2>4. Vectorized tests with ifelse()</h2>
<p><strong>Note there is also a tidyverse version of the base R <code>ifelse()</code> function!</strong></p>
<p>The tidyverse version is called <code>if_else()</code> <a href="https://dplyr.tidyverse.org/reference/if_else.html" class="uri">https://dplyr.tidyverse.org/reference/if_else.html</a></p>
<p>The two are very similar, hence I introduced only on here, pick the one you prefer.</p>
</section>
<section id="practice-4" class="slide level2 center">
<h2>üíª Practice</h2>
<p>More practice exercises in today‚Äôs class materials (downloaded from the website)</p>
</section>
<section id="recap-what-we-learned-today" class="slide level2 center">
<h2>Recap: What We Learned Today</h2>
<ul>
<li>Control structures let us change the flow of execution in our code<br>
</li>
<li>We focused on conditional statements: how to make decisions using <code>if</code>, <code>else</code>, and <code>else if</code></li>
<li>We practiced different types of conditionals: single test, multiple tests, and nested tests<br>
</li>
<li>Run vectorized tests with the function <code>ifelse()</code> and how this differs from standard conditional statements</li>
</ul>
</section>
<section id="to-print-these-slides-as-pdf" class="slide level2 center">
<h2>To print these slides as pdf</h2>
<p>Click on the icon bottom-right corner &gt; Tools &gt; PDF Export Mode &gt; Print as a Pdf</p>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>